{"ast":null,"code":"import _defineProperty from\"C:/Users/Admin2/OneDrive/React/Project_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Admin2/OneDrive/React/Project_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/Admin2/OneDrive/React/Project_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/Admin2/OneDrive/React/Project_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Route,Link,Switch,useHistory}from'react-router-dom';import Home from'./Home';import Form from'./Form';import Confirmation from'./Confirmation';import axios from'axios';import Footer from'./Footer';import*as yup from'yup';import formSchema from'./validation/formSchema';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialFormValues={dropdown:'',sauces:'',pepperoni:false,sausage:false,spicy_italian:false,onions:false,tomatoes:false,spinach:false,bacon:false,mushrooms:false,text_area:''};var initialFormErrors={dropdown:'',sauces:'',text_area:''};var initialDisabled=true;var initialOrders=[];export default function App(){var _useState=useState(initialOrders),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState(initialFormValues),_useState4=_slicedToArray(_useState3,2),formValues=_useState4[0],setFormValues=_useState4[1];var _useState5=useState(initialFormErrors),_useState6=_slicedToArray(_useState5,2),formErrors=_useState6[0],setFormErrors=_useState6[1];var _useState7=useState(initialDisabled),_useState8=_slicedToArray(_useState7,2),disabled=_useState8[0],setDisabled=_useState8[1];var history=useHistory();var postNewOrder=function postNewOrder(newOrder){axios.post(\"https://reqres.in/api/users\",newOrder).then(function(res){setOrders([].concat(_toConsumableArray(orders),[res.data]));}).catch(function(err){console.log(err);});history.push(\"/pizza/confirmation\");setFormValues(initialFormValues);console.log(orders);};var inputChange=function inputChange(name,value){yup.reach(formSchema,name).validate(value).then(function(){setFormErrors(_objectSpread(_objectSpread({},formErrors),{},_defineProperty({},name,'')));}).catch(function(err){setFormErrors(_objectSpread(_objectSpread({},formErrors),{},_defineProperty({},name,err.errors[0])));});setFormValues(_objectSpread(_objectSpread({},formValues),{},_defineProperty({},name,value)));};var formSubmit=function formSubmit(){var newOrder={dropdown:formValues.dropdown.trim(),sauces:formValues.sauces.trim(),toppings:['pepperoni','sausage','spicy_italian','onion','tomatoes','mushrooms','spinach','bacon'].filter(function(topping){return formValues[topping];}),text_area:formValues.text_area.trim()};postNewOrder(newOrder);};useEffect(function(){formSchema.isValid(formValues).then(function(valid){console.log(valid);return setDisabled(!valid);});},[formValues]);//  console.log(formValues)\nvar onSubmit=function onSubmit(evt){evt.preventDefault();formSubmit();};console.log(formValues);var onChange=function onChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value,type=_evt$target.type,checked=_evt$target.checked;var valueToUse=type==='checkbox'?checked:value;inputChange(name,valueToUse);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"store-header\",children:\"KHANA PIES\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-links\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/pizza\",children:\"Order Online\"})]})]}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/pizza/confirmation\",children:/*#__PURE__*/_jsx(Confirmation,{orders:orders})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/pizza\",children:/*#__PURE__*/_jsx(Form,{submit:onSubmit,change:onChange,formValues:formValues,disabled:disabled,errors:formErrors})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Home,{})})]}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"sources":["C:/Users/Admin2/OneDrive/React/Project_3/src/App.js"],"names":["React","useState","useEffect","Route","Link","Switch","useHistory","Home","Form","Confirmation","axios","Footer","yup","formSchema","initialFormValues","dropdown","sauces","pepperoni","sausage","spicy_italian","onions","tomatoes","spinach","bacon","mushrooms","text_area","initialFormErrors","initialDisabled","initialOrders","App","orders","setOrders","formValues","setFormValues","formErrors","setFormErrors","disabled","setDisabled","history","postNewOrder","newOrder","post","then","res","data","catch","err","console","log","push","inputChange","name","value","reach","validate","errors","formSubmit","trim","toppings","filter","topping","isValid","valid","onSubmit","evt","preventDefault","onChange","target","type","checked","valueToUse"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Route, Link, Switch, useHistory } from 'react-router-dom';\r\nimport Home from './Home';\r\nimport Form from './Form';\r\nimport Confirmation from './Confirmation';\r\nimport axios from 'axios';\r\nimport Footer from './Footer';\r\nimport * as yup from 'yup';\r\nimport formSchema from './validation/formSchema'\r\nimport './App.css';\r\n\r\n\r\nconst initialFormValues ={\r\n  dropdown: '',\r\n  sauces: '',\r\n  pepperoni: false,\r\n  sausage: false,\r\n  spicy_italian: false,\r\n  onions: false,\r\n  tomatoes: false,\r\n  spinach: false,\r\n  bacon: false,\r\n  mushrooms: false,\r\n  text_area: ''\r\n}\r\nconst initialFormErrors = {\r\n  dropdown: '',\r\n  sauces: '',\r\n  text_area: '',\r\n}\r\nconst initialDisabled = true;\r\nconst initialOrders = [];\r\n\r\nexport default function App(){ \r\n  const [orders, setOrders] = useState(initialOrders) \r\n  const [formValues, setFormValues] = useState(initialFormValues)\r\n  const [formErrors, setFormErrors] = useState(initialFormErrors) \r\n  const [disabled, setDisabled] = useState(initialDisabled)\r\n \r\n  const history = useHistory()\r\n\r\n  const postNewOrder = newOrder => {\r\n    axios.post(`https://reqres.in/api/users`, newOrder)\r\n    .then(res=> {\r\n      setOrders([...orders, res.data]);\r\n      \r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n    })\r\n    history.push(`/pizza/confirmation`)\r\n    setFormValues(initialFormValues)\r\n    console.log(orders)\r\n  }\r\n  const inputChange = (name, value) => {\r\n    yup.reach(formSchema, name)\r\n    .validate(value)\r\n    .then(()=> {\r\n      setFormErrors({...formErrors, [name]: ''})\r\n    })\r\n    .catch(err => {\r\n      setFormErrors({...formErrors, [name]: err.errors[0]})\r\n    })\r\n    setFormValues({...formValues, [name]: value})\r\n    \r\n  }\r\n \r\n  const formSubmit = () => {\r\n    const newOrder = {\r\n      dropdown: formValues.dropdown.trim(),\r\n      sauces: formValues.sauces.trim(),\r\n      toppings: ['pepperoni' , 'sausage' , 'spicy_italian' , 'onion' , 'tomatoes' , 'mushrooms' , 'spinach' , 'bacon'].filter(topping => {\r\n        return formValues[topping]\r\n      }),\r\n      text_area: formValues.text_area.trim()  \r\n    }\r\n    postNewOrder(newOrder); \r\n  }\r\n  useEffect(() => {\r\n    formSchema.isValid(formValues).then(valid => {\r\n      console.log(valid)\r\n      return setDisabled(!valid)}\r\n   )}, [formValues])\r\n  //  console.log(formValues)\r\n\r\n  const onSubmit = evt => {\r\n    evt.preventDefault()\r\n    formSubmit()\r\n   \r\n    \r\n  }\r\nconsole.log(formValues)\r\n\r\n  const onChange = evt => {\r\n    const { name, value, type, checked } = evt.target;\r\n    const valueToUse = type === 'checkbox' ? checked : value;\r\n    inputChange(name, valueToUse);\r\n  }\r\n  return (\r\n    <div className='App'>\r\n      <nav>\r\n      <h1 className='store-header'>KHANA PIES</h1>\r\n      <div className='nav-links'>\r\n          <Link to=\"/\">Home</Link>\r\n          <Link to=\"/pizza\">Order Online</Link>\r\n        </div>\r\n      </nav>\r\n    <Switch>\r\n      <Route exact path='/pizza/confirmation'>\r\n      {/* {orders.map((order, index) =>{ \r\n        return(\r\n        <div className='form-group' key={index}>\r\n        <h1> Thanks for ordering. See you soon! </h1>\r\n        <h4> Size: {order.dropdown} </h4> \r\n        <h4> Sauce: {order.sauces}</h4>\r\n        <h4> Topping(s): {order.toppings} </h4>\r\n        <h4>Special Instructions: {order.text_area}</h4> \r\n        </div>\r\n      )})} */}\r\n        <Confirmation orders={orders}/>\r\n      </Route>\r\n      <Route exact path='/pizza'>\r\n        <Form submit={onSubmit} change={onChange} formValues={formValues} disabled={disabled} errors={formErrors}/>\r\n      </Route>\r\n      <Route exact path='/'>\r\n        <Home/>\r\n      </Route>\r\n    </Switch>\r\n    <Footer/>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}